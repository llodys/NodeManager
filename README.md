# NodeManager - ä¸ªäººè®¢é˜…ç®¡ç†åŠ©æ‰‹

**NodeManager** æ˜¯ä¸€ä¸ªè½»é‡çº§ã€è‡ªæ‰˜ç®¡çš„è®¢é˜…ç®¡ç†ç³»ç»Ÿï¼ŒåŸºäºŽ Node.js å’ŒåŽŸç”Ÿå‰ç«¯æŠ€æœ¯æž„å»ºã€‚å®ƒå¯ä»¥å¸®åŠ©ä½ é›†ä¸­ç®¡ç†å„ç±»æœåŠ¡ï¼ˆå¦‚ Netflixã€Spotifyã€æœåŠ¡å™¨ã€åŸŸåç­‰ï¼‰çš„ç»­è´¹å‘¨æœŸï¼Œå¹¶é€šè¿‡ Telegram æœºå™¨äººæ¯æ—¥è‡ªåŠ¨æŽ¨é€å³å°†åˆ°æœŸçš„æé†’ï¼Œé˜²æ­¢æœåŠ¡ä¸­æ–­ã€‚

![Dashboard Preview](public/images/preview.png)

## âœ¨ ä¸»è¦åŠŸèƒ½

* **ðŸ“Š æ•°æ®çœ‹æ¿**ï¼šç›´è§‚å±•ç¤ºè®¢é˜…æ€»æ•°ã€çŠ¶æ€åˆ†å¸ƒï¼ˆæ­£å¸¸/å³å°†åˆ°æœŸ/å·²è¿‡æœŸï¼‰ã€‚
* **ðŸŽ¨ çŽ°ä»£åŒ– UI**ï¼š
    * æ”¯æŒ **äº®è‰² / æš—è‰² / è·Ÿéšç³»ç»Ÿ** ä¸»é¢˜åˆ‡æ¢ã€‚
    * è‡ªåŠ¨èŽ·å–æœåŠ¡å›¾æ ‡ï¼ˆFaviconï¼‰ï¼Œæ”¯æŒæœç´¢è¿‡æ»¤ã€‚
    * åŠ¨æ€è¿›åº¦æ¡æ˜¾ç¤ºå½“å‰è®¢é˜…å‘¨æœŸçš„æ¶ˆè€—æƒ…å†µã€‚
* **â° æ™ºèƒ½æé†’ç³»ç»Ÿ**ï¼š
    * **æ¯æ—¥æ£€æµ‹**ï¼šç³»ç»Ÿæ¯å¤© 09:30 è‡ªåŠ¨æ‰§è¡Œæ£€æŸ¥ä»»åŠ¡ã€‚
    * **è‡ªå®šä¹‰é˜ˆå€¼**ï¼šæ¯ä¸ªè®¢é˜…å¯å•ç‹¬è®¾ç½®æé†’æ—¶é—´ï¼ˆä¾‹å¦‚ï¼šåŸŸåæå‰ 30 å¤©æé†’ï¼ŒVPS æå‰ 7 å¤©æé†’ï¼‰ã€‚
    * **Telegram æŽ¨é€**ï¼šæ”¯æŒé€šè¿‡ HTTP ä»£ç†å‘é€æ¶ˆæ¯ï¼Œå›½å†…ç½‘ç»œçŽ¯å¢ƒä¹Ÿèƒ½ç¨³å®šæŽ¨é€ã€‚
* **ðŸ“… æ—¥åŽ†è§†å›¾**ï¼šæä¾›æœˆè§†å›¾æ—¥åŽ†ï¼Œç›´è§‚æŸ¥çœ‹æ¯æ—¥çš„å¼€å§‹æˆ–åˆ°æœŸé¡¹ç›®ï¼Œæ”¯æŒå†œåŽ†æ˜¾ç¤ºã€‚
* **ðŸ’¾ è½»é‡åŒ–å­˜å‚¨**ï¼šä½¿ç”¨æœ¬åœ° JSON æ–‡ä»¶å­˜å‚¨æ•°æ®ï¼Œæ— éœ€å®‰è£… MySQL æˆ– MongoDBï¼Œå¤‡ä»½è¿ç§»æžå…¶ç®€å•ã€‚

## ðŸŒ åœ¨çº¿æ¼”ç¤º (Demo)

ä½ å¯ä»¥é€šè¿‡ä»¥ä¸‹åœ°å€å¿«é€Ÿä½“éªŒ NodeManager çš„åŠŸèƒ½ï¼š

* **æ¼”ç¤ºåœ°å€**ï¼š[https://nodenanager.zeabur.app/](https://nodenanager.zeabur.app/)
* **æ¼”ç¤ºç”¨æˆ·å**ï¼š`admin`
* **æ¼”ç¤ºå¯†ç **ï¼š`admin`

> **æç¤º**ï¼šæ¼”ç¤ºçŽ¯å¢ƒä»…ä¾›åŠŸèƒ½å±•ç¤ºï¼Œè¯·å‹¿ä¸Šä¼ çœŸå®žæ•æ„Ÿçš„è®¢é˜…ä¿¡æ¯ã€‚

## ðŸ› ï¸ æŠ€æœ¯æ ˆ

* **åŽç«¯**ï¼šNode.js, Express
* **å‰ç«¯**ï¼šHTML5, CSS3, Vanilla JS (æ— å¤§åž‹æ¡†æž¶ä¾èµ–)
* **å·¥å…·**ï¼š`node-cron` (å®šæ—¶ä»»åŠ¡), `axios` (è¯·æ±‚), `jsonwebtoken` (JWTé‰´æƒ)

## ðŸš€ å¿«é€Ÿå¼€å§‹

### 1. çŽ¯å¢ƒè¦æ±‚

* Node.js v16+
* npm æˆ– yarn

### 2. å®‰è£…

```bash
# 1. å…‹éš†é¡¹ç›®
git clone https://github.com/llodys/NodeManager.git
cd NodeManager

# 2. å®‰è£…ä¾èµ–
npm install
```

### 3. é…ç½®çŽ¯å¢ƒå˜é‡

åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª `.env` æ–‡ä»¶ï¼Œå¤åˆ¶ä»¥ä¸‹å†…å®¹å¹¶ä¿®æ”¹ä¸ºä½ è‡ªå·±çš„é…ç½®ï¼š

```ini
# æœåŠ¡è¿è¡Œç«¯å£
PORT=3000

# ç™»å½•ç®¡ç†å‘˜è´¦å·å¯†ç 
ADMIN_USER=admin
ADMIN_PASS=admin

# JWT ç­¾åå¯†é’¥ (è¯·ä¿®æ”¹ä¸ºéšæœºå­—ç¬¦ä¸²ä»¥ä¿è¯å®‰å…¨)
JWT_SECRET=change_this_to_a_random_secret_string

# --- Telegram é€šçŸ¥é…ç½® ---
# ä½ çš„ Bot Token (æ‰¾ @BotFather èŽ·å–)
TELEGRAM_BOT_TOKEN=123456789:ABCdefGHIjklMNOpqrsTUVwxyz
# ä½ çš„ Chat ID (ä¹Ÿå°±æ˜¯ä½ çš„ç”¨æˆ·ID)
TELEGRAM_ADMIN_ID=12345678

# (å¯é€‰) HTTP ä»£ç†åœ°å€
# å¦‚æžœä½ çš„æœåŠ¡å™¨æ— æ³•ç›´æŽ¥è¿žæŽ¥ Telegram APIï¼Œè¯·é…ç½®æ­¤é¡¹
# ä¾‹å¦‚æœ¬åœ° Clash ç«¯å£é€šå¸¸æ˜¯ 7890
HTTP_PROXY=http://127.0.0.1:7890
```

### 4. è¿è¡Œ

**å¼€å‘æ¨¡å¼ (æ”¯æŒçƒ­é‡è½½):**

```bash
npm run dev
```

**ç”Ÿäº§æ¨¡å¼:**

```bash
npm start
```

å¯åŠ¨æˆåŠŸåŽï¼Œæµè§ˆå™¨è®¿é—®ï¼š`http://localhost:3000`

## ðŸ“‚ ç›®å½•ç»“æž„

```text
â”œâ”€â”€ public/              # å‰ç«¯é™æ€èµ„æº
â”‚   â”œâ”€â”€ css/             # æ ·å¼æ–‡ä»¶
â”‚   â”œâ”€â”€ js/              # å‰ç«¯é€»è¾‘ (app.js)
â”‚   â”œâ”€â”€ index.html       # ä»ªè¡¨ç›˜ä¸»é¡µ
â”‚   â””â”€â”€ login.html       # ç™»å½•é¡µ
â”œâ”€â”€ routes/              # API è·¯ç”±
â”‚   â”œâ”€â”€ authRoutes.js    # ç™»å½•è®¤è¯æŽ¥å£
â”‚   â””â”€â”€ subRoutes.js     # è®¢é˜…ç®¡ç†æŽ¥å£
â”œâ”€â”€ services/            # åŽç«¯æœåŠ¡
â”‚   â”œâ”€â”€ cronJob.js       # å®šæ—¶ä»»åŠ¡é€»è¾‘ (æ¯æ—¥æ£€æŸ¥è®¢é˜…çŠ¶æ€)
â”‚   â””â”€â”€ telegramService.js # TG æ¶ˆæ¯å‘é€é€»è¾‘ (å«ä»£ç†æ”¯æŒ)
â”œâ”€â”€ utils/               # å·¥å…·å‡½æ•°
â”‚   â””â”€â”€ db.js            # JSON æ•°æ®åº“è¯»å†™å°è£…
â”œâ”€â”€ data/                # æ•°æ®å­˜å‚¨ç›®å½•
â”‚   â””â”€â”€ db.json          # æ‰€æœ‰è®¢é˜…æ•°æ®ä¿å­˜åœ¨è¿™é‡Œ
â”œâ”€â”€ app.js               # åŽç«¯å…¥å£æ–‡ä»¶
â””â”€â”€ package.json
```

## âš™ï¸ é€šçŸ¥é€»è¾‘è¯´æ˜Ž

1. **è§¦å‘æ—¶é—´**ï¼šé»˜è®¤é…ç½®åœ¨ `app.js` ä¸­ï¼Œæ¯å¤©ä¸Šåˆ 09:30 è§¦å‘ã€‚
2. **åˆ¤æ–­é€»è¾‘**ï¼š
    * ç³»ç»Ÿä¼šéåŽ†æ‰€æœ‰è®¢é˜…ã€‚
    * è®¡ç®— `(åˆ°æœŸæ—¥æœŸ - ä»Šå¤©)` çš„å‰©ä½™å¤©æ•°ã€‚
    * å¦‚æžœ `å‰©ä½™å¤©æ•° >= 0` ä¸” `å‰©ä½™å¤©æ•° <= ä½ è®¾ç½®çš„æé†’å¤©æ•°`ã€‚
    * å‘é€ Telegram é€šçŸ¥ã€‚
3. **é¢‘çŽ‡**ï¼šåªè¦åœ¨æé†’èŒƒå›´å†…ï¼Œ**æ¯å¤©**éƒ½ä¼šå‘é€ä¸€æ¬¡é€šçŸ¥ï¼Œç›´åˆ°ä½ å®Œæˆç»­è´¹ï¼ˆä¿®æ”¹åˆ°æœŸæ—¶é—´ï¼‰ã€‚

## ðŸ“ å¤‡ä»½ä¸Žæ¢å¤

æ‰€æœ‰æ•°æ®å‡å­˜å‚¨åœ¨ `data/db.json` ä¸­ã€‚

* **å¤‡ä»½**ï¼šç›´æŽ¥å¤åˆ¶è¯¥æ–‡ä»¶åˆ°å®‰å…¨çš„åœ°æ–¹ã€‚
* **æ¢å¤**ï¼šé‡è£…ç³»ç»Ÿæˆ–è¿ç§»æœåŠ¡å™¨æ—¶ï¼Œåªéœ€å°†å¤‡ä»½çš„ `db.json` è¦†ç›–å›ž `data/` ç›®å½•å³å¯ã€‚

## ðŸ“„ License

MIT License
